import{_ as e,aa as a,z as d,B as t,ab as s,ac as l,E as o,o as r,c as n,w as u,i as c,e as i,f as h,q as m,O as f,ad as p,ae as g,I as k,a6 as _}from"./index-6786ed43.js";import{g as b}from"./graceCheck.405c0f54.js";const I=e({data:()=>({formdata:{addrName:"",addrPhone:"",address:"",state:!1},addrId:null,token:null}),methods:{formSubmit:function(e){let l=e.detail.value;b.check(l,[{name:"addrName",checkType:"notnull",checkRule:"",errorMsg:"请填写收货人名称"},{name:"addrPhone",checkType:"notnull",checkRule:"",errorMsg:"请填收货人电话"},{name:"address",checkType:"notnull",checkRule:"",errorMsg:"请填写收货地址"}])?this.addrId?a("/userCenter/updateUserAddress",{...l,state:l.state?1:0,addrId:this.addrId,authorization:this.token}).then((e=>{const{code:a,flag:s}=e;2e3===a&&s&&(d({title:"修改成功！",icon:"success"}),t({url:"/pages/addresslist/index"}))})).catch((e=>{console.log(e)})):s("/userCenter/addUserAddress",{...l,state:l.state?1:0,authorization:this.token}).then((e=>{const{code:a,flag:s}=e;2e3===a&&s&&(d({title:"添加成功！",icon:"success"}),t({url:"/pages/addresslist/index"}))})).catch((e=>{console.log(e)})):d({title:b.error,icon:"none"})},getAddressDetial(e){l("/userCenter/getUserAddressOne",{addrId:e,authorization:this.token}).then((e=>{console.log("res==>",e);const{code:a,flag:d,data:t}=e;2e3===a&&d&&(this.formdata=t)})).catch((e=>console.log(e)))}},onLoad(e){this.addrId=e.addrId,this.token=o("accessToken"),this.addrId&&this.getAddressDetial(this.addrId)}},[["render",function(e,a,d,t,s,l){const o=m,b=f,I=c,V=p,x=g,y=k,U=_;return r(),n(I,null,{default:u((()=>[i(U,{onSubmit:l.formSubmit},{default:u((()=>[i(I,{class:"list-box"},{default:u((()=>[i(o,null,{default:u((()=>[h("收货人")])),_:1}),i(b,{class:"uni-input",name:"addrName",placeholder:"请填写收货人",modelValue:s.formdata.addrName,"onUpdate:modelValue":a[0]||(a[0]=e=>s.formdata.addrName=e)},null,8,["modelValue"])])),_:1}),i(I,{class:"list-box"},{default:u((()=>[i(o,null,{default:u((()=>[h("手机号码")])),_:1}),i(b,{class:"uni-input",name:"addrPhone",modelValue:s.formdata.addrPhone,"onUpdate:modelValue":a[1]||(a[1]=e=>s.formdata.addrPhone=e),placeholder:"请填写手机号码"},null,8,["modelValue"])])),_:1}),i(I,{class:"list-box"},{default:u((()=>[i(o,null,{default:u((()=>[h("详细地址")])),_:1}),i(V,{modelValue:s.formdata.address,"onUpdate:modelValue":a[2]||(a[2]=e=>s.formdata.address=e),name:"address","auto-height":"","placeholder-style":"color:lightgray",placeholder:"请填写完整的详细地址"},null,8,["modelValue"])])),_:1}),i(I,{class:"list-box"},{default:u((()=>[i(o,null,{default:u((()=>[h("是否设为默认地址")])),_:1}),i(I,null,{default:u((()=>[i(x,{checked:s.formdata.state,name:"state"},null,8,["checked"])])),_:1})])),_:1}),i(I,{class:"uni-btn-v"},{default:u((()=>[i(y,{type:"warn","form-type":"submit"},{default:u((()=>[h("保存地址")])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})}],["__scopeId","data-v-7b1208be"]]);export{I as default};
