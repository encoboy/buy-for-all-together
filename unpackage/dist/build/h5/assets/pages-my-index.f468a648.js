import{_ as s,E as a,J as e,x as t,K as l,L as n,B as o,M as c,o as i,c as r,w as u,i as g,e as d,f,t as m,b as h,d as p,F as _,r as b,q as x,m as k}from"./index-6786ed43.js";import{_ as y}from"./uni-icons.aff85163.js";import{r as I}from"./uni-app.es.97479408.js";import{h as j,s as A}from"./disablePageScro.05374441.js";const L=s({data(){return{isLogin:a("accessToken"),userInfo:{},jinbiAccount:0,listArray:[{name:"我要充值",src:"../../static/my/chongzhi.png",callback:()=>{this.goListPage("/pages/topup/index")}},{name:"收货地址",src:"../../static/my/address.png",callback:()=>{this.goListPage("/pages/addresslist/index")}},{name:"订单列表",src:"../../static/my/order2.png",callback:()=>{this.goListPage("/pages/finishorderlist/index")}},{name:"中奖记录",src:"../../static/my/jilu.png",callback:()=>{this.goListPage("/pages/winrecord/index")}},{name:"全民一元购规则",src:"../../static/my/rule.png",callback:()=>{this.goListPage("/pages/rule/rule")}},{name:"退出登录",src:"../../static/my/close.png",callback:()=>{this.goListPage("logout")}}]}},methods:{getAccount(){e("/userCenter/getUserAccountOne").then((s=>{const{code:a,flag:e,data:l}=s;2e3===a&&e&&(t(),this.jinbiAccount=l.account)})).catch((s=>console.log(s)))},getUserInfo(){l("/userCenter/getUserMsg").then((s=>{const{flag:a,data:e}=s;a&&(t(),this.userInfo=e)})).catch((s=>console.log(s)))},goListPage(s){"logout"!==s?o({url:s}):n({isShowToast:!0})},goMyInfo(){o({url:"/pages/myinfo/index"})}},onPullDownRefresh(){this.getUserInfo(),this.getAccount()},onHide(){j()},onShow(){A(),this.token=a("accessToken"),this.getUserInfo(),this.getAccount(),c({key:"mytoken",success:function(s){},fail:function(){this.token||o({url:"/pages/login/index"})}})}},[["render",function(s,a,e,t,l,n){const o=I(b("uni-icons"),y),c=x,j=g,A=k;return i(),r(j,{class:"box-width"},{default:u((()=>[d(j,{class:"my-box"},{default:u((()=>[d(j,{class:"seting-box",onClick:n.goMyInfo},{default:u((()=>[d(o,{type:"gear",size:"25",color:"white"}),d(c,null,{default:u((()=>[f("设置")])),_:1})])),_:1},8,["onClick"]),d(j,{class:"head-box"},{default:u((()=>[d(A,{src:l.userInfo.image?l.userInfo.image:"../../static/my/avatar.png"},null,8,["src"]),d(j,{class:"info"},{default:u((()=>[d(c,null,{default:u((()=>[f(m(l.userInfo.userName),1)])),_:1}),d(c,null,{default:u((()=>[f("账号ID："+m(l.userInfo.userId),1)])),_:1})])),_:1})])),_:1})])),_:1}),d(j,{class:"jinbi-box"},{default:u((()=>[d(j,{class:"box"},{default:u((()=>[d(A,{src:"/assets/jifen2-24fc8e1a.png",mode:""}),d(j,{class:"text-title"},{default:u((()=>[d(c,null,{default:u((()=>[f("金币")])),_:1}),d(c,null,{default:u((()=>[f(m(l.jinbiAccount),1)])),_:1})])),_:1})])),_:1}),d(j,{class:"box"},{default:u((()=>[d(A,{src:"/assets/jinbi2-42d51191.png",mode:""}),d(j,{class:"text-title2"},{default:u((()=>[d(c,null,{default:u((()=>[f("积分")])),_:1}),d(c,null,{default:u((()=>[f("0.00")])),_:1})])),_:1})])),_:1})])),_:1}),d(j,{class:"list-seting-box"},{default:u((()=>[(i(!0),h(_,null,p(l.listArray,(s=>(i(),r(j,{class:"list-box",onClick:s.callback},{default:u((()=>[d(j,{class:"right"},{default:u((()=>[d(A,{src:s.src},null,8,["src"]),d(c,null,{default:u((()=>[f(m(s.name),1)])),_:2},1024)])),_:2},1024),d(j,{class:"left"},{default:u((()=>[d(o,{type:"forward",size:"20"})])),_:1})])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})}],["__scopeId","data-v-09708c25"]]);export{L as default};
