import{_ as l,B as e,am as t,o as a,c as s,w as o,H as d,b as i,d as r,e as u,f as c,t as n,k as f,F as _,m as g,i as m,q as p,G as h,r as C}from"./index-6786ed43.js";import{_ as y}from"./uni-icons.aff85163.js";import{r as S}from"./uni-app.es.97479408.js";import{m as k}from"./myScrolly.afae9d57.js";import{s as b,h as w}from"./disablePageScro.05374441.js";import"./uni-load-more.fe8cfc5d.js";const L=l({components:{myScrolly:k},data:()=>({listdata:[],listdataTotal:null,pageSize:10,moreStatu:"more",scrollY:"scroll-Y"}),methods:{goList(l,t){e({url:`/pages/codeList/index?goodCode=${l}&type=${t}`})},lower:function(l){this.listdata.length<this.listdataTotal&&(this.pageSize+=10,this.getlist())},getlist(){this.moreStatu="loading",t("/userCenter/getUserOrderList",{currentPage:1,pageSize:this.pageSize},10===this.pageSize).then((l=>{const{code:e,flag:t,data:a}=l;if(2e3===e&&t){const{list:l,total:e}=a;this.listdata=l,this.listdataTotal=e,l.length===e?this.moreStatu="noMore":this.moreStatu="more"}})).catch((l=>console.log(l)))}},onLoad(){this.getlist()},onShow(){b()},onHide(){w()}},[["render",function(l,e,t,k,b,w){const L=g,z=m,x=p,T=h,j=S(C("uni-icons"),y),F=d("myScrolly");return a(),s(F,{scrollDirection:"y",moreStatu:b.moreStatu,onLowerFunc:w.lower,scrollY:b.scrollY,loadColor:"black"},{default:o((()=>[(a(!0),i(_,null,r(b.listdata,((l,e)=>(a(),s(z,{key:e,class:"data-box"},{default:o((()=>[u(z,{class:"title_line_box"},{default:o((()=>[u(z,{class:"img_box"},{default:o((()=>[u(L,{src:l.image,mode:""},null,8,["src"])])),_:2},1024),u(z,{class:"title_right"},{default:o((()=>[u(z,null,{default:o((()=>[c("商品编号："+n(l.goodCode),1)])),_:2},1024),u(x,null,{default:o((()=>[c(n(l.goodName?l.goodName.slice(0,25)+"...":""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(z,{class:"content_box"},{default:o((()=>[u(z,{class:"line_progress"},{default:o((()=>[u(z,null,{default:o((()=>[u(x,null,{default:o((()=>[c("购买进度：")])),_:1}),u(x,null,{default:o((()=>[c(n(l.buyRate)+"%",1)])),_:2},1024)])),_:2},1024),u(T,{percent:l.buyRate,activeColor:"#f98b2b","stroke-width":"6"},null,8,["percent"])])),_:2},1024),u(z,{class:"line"},{default:o((()=>[u(z,{class:"left"},{default:o((()=>[u(x,{class:"line_title"},{default:o((()=>[c("订单编号：")])),_:1}),u(x,{class:"line_code"},{default:o((()=>[c(n(l.orderCode?l.orderCode.split(",")[0]:""),1)])),_:2},1024)])),_:2},1024),u(z,{class:"right",onClick:e=>w.goList(l.goodCode,"orderCode")},{default:o((()=>[u(x,null,{default:o((()=>[c("查看更多")])),_:1}),u(j,{type:"forward",size:"20"})])),_:2},1032,["onClick"])])),_:2},1024),u(z,{class:"line"},{default:o((()=>[u(z,{class:"left"},{default:o((()=>[u(x,{class:"line_title"},{default:o((()=>[c("下单时间：")])),_:1}),u(x,{class:"line_code"},{default:o((()=>[c(n(l.orderTime?l.orderTime.split(",")[0]:""),1)])),_:2},1024)])),_:2},1024),u(z,{class:"right",onClick:e=>w.goList(l.goodCode,"orderTime")},{default:o((()=>[u(x,null,{default:o((()=>[c("查看更多")])),_:1}),u(j,{type:"forward",size:"20"})])),_:2},1032,["onClick"])])),_:2},1024),u(z,{class:"line"},{default:o((()=>[u(z,{class:"left"},{default:o((()=>[u(x,{class:"line_title"},{default:o((()=>[c("用户幸运号：")])),_:1}),u(x,{class:"line_code"},{default:o((()=>[c(n(l.orderCode?l.orderCode.split(",")[0]:""),1)])),_:2},1024)])),_:2},1024),u(z,{class:"right",onClick:e=>w.goList(l.goodCode,"userLuckyCode")},{default:o((()=>[u(x,null,{default:o((()=>[c("查看更多")])),_:1}),u(j,{type:"forward",size:"20"})])),_:2},1032,["onClick"])])),_:2},1024),u(z,{class:"line"},{default:o((()=>[u(z,{class:"left"},{default:o((()=>[u(x,{class:"line_title"},{default:o((()=>[c("揭晓时间：")])),_:1})])),_:1}),u(z,{class:"right"},{default:o((()=>[u(x,null,{default:o((()=>[c(n(l.openTime),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(z,{class:"bottom_line"},{default:o((()=>[u(z,{class:"left"},{default:o((()=>[u(x,null,{default:o((()=>[c("幸运号：")])),_:1}),u(x,null,{default:o((()=>[c(n(l.luckyCode?l.luckyCode:"待揭晓"),1)])),_:2},1024)])),_:2},1024),u(z,{class:f("中奖"==l.luckyFlag?"right_open":"right_not")},{default:o((()=>[u(x,null,{default:o((()=>[c(n(l.luckyFlag),1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["moreStatu","onLowerFunc","scrollY"])}],["__scopeId","data-v-d93fdc15"]]);export{L as default};
